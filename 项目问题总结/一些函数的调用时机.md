# 关于函数调用时机的一些思考：

在前端开发中时常设计一些表单的提交以及表单内容的修改，在表单信息被提交和修改后，往往需要清空之前的内容以便进行下一次的修改或提交时信息的输入。这个时候对之前数据的清除就成为了必须的操作，下面将结合一个我在项目开发中遇见的例子来表述我对这方面问题的一些思考。

#### 需求背景：

通过一个dialog中的form表单向table中新增数据，dialog中有提交和取消两个按钮，点击提交时会提交数据，点击取消时关闭dialog

#### 设计思路：

首先我想到的是定义一个清空表单数据的方法，在提交和取消时都调用此方法，取消时清空表单然后关闭dialog，提交时在校验成功的回调函数中调用上传数据的接口，数据上传完毕调用清空表单方法，然后关闭dialog。这样做的好处在于逻辑清晰，但是取消和提交时都需要调用该方法。

那么换一个思路，既然清空表单是为了下一次编辑或者提交时的输入，所以如果在打开弹窗时调用清空表单的方法，那么便可以无需在取消和提交时都调用清空表单的方法。故在打开弹窗时调用清空表单的方法，就可以统一控制表单数据的清空。

#### 思考：

不光是方法的调用，包括数据请求以及一些接口的调用都可以考虑更加适合的调用时时机，或许有些调用时机不一定是顺着逻辑思考第一想到的时机，但是却可以减少方法使用的次数达到优化代码的目的。

